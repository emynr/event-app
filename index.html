<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>複数イベント営業促進支援ツール</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Application Structure Plan: Single-page application with a left sidebar for navigation (Month -> Area -> Event) and a main content area.
         - Main Content: Displays detailed information for the selected event. All map URLs (event venue and store locator) updated to a more robust standard embeddable Google Maps format (using `https://www.google.com/maps?output=embed...`) to resolve API key and connection errors.
    -->
    <!-- Visualization & Content Choices:
         - Navigation: HTML list styled with Tailwind, JS for click handling and content switching.
         - Event Image: Placeholder `<img>`. Goal: Inform. Method: HTML.
         - Event Calendar: Simple HTML/CSS grid. Goal: Inform. Method: HTML/Tailwind.
         - Google Map (Venue): `<iframe>` (All map URLs updated). Goal: Inform. Method: HTML.
         - Attendance: Text display. Goal: Inform. Method: HTML.
         - Minimum Wage: Text display. Goal: Inform. Method: HTML.
         - Wage Comparison Charts: Horizontal Bar Charts (Chart.js), x-axis min 800. Goal: Compare. Interaction: Tooltips. Library: Chart.js.
         - Sales Talk: Bullet points. Goal: Inform. Method: HTML.
         - Store Locator: Input field + button, JS to generate Google Maps directions embed (URL format updated). Goal: Organize, Relationships. Interaction: User input. Library: Vanilla JS.
    -->
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #FDF8F2; 
            color: #4A4A4A;
            display: flex;
            height: 100vh;
            overflow: hidden; 
        }
        #sidebar {
            width: 300px; 
            background-color: #FFFFFF;
            box-shadow: 2px 0 8px rgba(0,0,0,0.05);
            padding: 1.5rem;
            overflow-y: auto; 
            height: 100vh; 
            border-right: 1px solid #E5E5E5;
        }
        #sidebar h2.sidebar-main-title { 
            font-size: 1.25rem;
            font-weight: 600;
            color: #14B8A6; 
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #E5E5E5;
        }
       .menu-month-group {
            margin-bottom: 0.5rem;
        }
       .menu-month-title {
            font-size: 1.1rem; 
            font-weight: 600;
            color: #333333;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            padding: 0.5rem 0.25rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-radius: 4px;
            transition: background-color 0.2s ease;
        }
        .menu-month-title:hover {
            background-color: #f0f9ff; 
        }
        .menu-month-title .toggle-icon {
            font-size: 1em;
            margin-left: 0.5rem;
            transition: transform 0.3s ease-in-out;
            color: #14B8A6;
        }
         .menu-month-title.expanded .toggle-icon {
            transform: rotate(45deg);
        }
       .menu-month-content {
            padding-left: 0.5rem; 
            overflow: hidden;
            max-height: 0; 
            transition: max-height 0.4s ease-in-out; 
        }
        .menu-month-content.expanded {
             max-height: 1500px; 
        }
       .menu-area-group {
            margin-bottom: 0.75rem; 
            padding-left: 0.5rem;
        }
       .menu-area-title {
            font-size: 0.95rem; 
            font-weight: 500;
            color: #555555;
            margin-top: 0.5rem; 
            margin-bottom: 0.25rem; 
            padding-left: 0.5rem;
            border-left: 2px solid #14B8A6; 
        }
        #sidebar .menu-item {
            display: block;
            padding: 0.5rem 0.75rem; 
            font-size: 0.875rem;
            color: #4A4A4A;
            border-radius: 6px;
            transition: background-color 0.2s ease, color 0.2s ease;
            cursor: pointer;
            margin-bottom: 0.25rem;
            margin-left: 1rem; 
        }
        #sidebar .menu-item:hover {
            background-color: #F0FDF4; 
            color: #14B8A6;
        }
        #sidebar .menu-item.active {
            background-color: #14B8A6; 
            color: white;
            font-weight: 500;
        }

        #main-content-area {
            flex-grow: 1;
            padding: 0; 
            overflow-y: auto; 
            height: 100vh; 
        }
       .content-wrapper { 
            padding: 2rem;
        }

       .content-section {
            background-color: #FFFFFF;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 2.5rem; 
            padding: 2rem; 
        }
       .content-section h2.event-title-main { 
            font-size: 2rem; 
            font-weight: 700;
            color: #333333; 
            margin-bottom: 1.5rem; 
            padding-bottom: 0.75rem; 
            border-bottom: 1px solid #E5E5E5; 
        }
        .content-section h3.subsection-title {
            font-size: 1.25rem; 
            font-weight: 600; 
            color: #374151; 
            margin-top: 1.5rem; 
            margin-bottom: 0.75rem; 
        }
       .content-section p,.content-section li,.content-section td,.content-section th {
            line-height: 1.8; 
            font-size: 1rem; 
        }
       .minimum-wage-info {
            background-color: #E0F2F7; 
            border-left: 4px solid #14B8A6; 
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-radius: 4px;
            font-size: 0.95rem;
        }
       .minimum-wage-info strong {
            color: #0D9488; 
            font-weight: 600;
        }
       .accent-btn {
            background-color: #14B8A6; 
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }
       .accent-btn:hover {
            background-color: #0D9488; 
        }
       .input-field {
            border: 1px solid #D1D5DB; 
            border-radius: 8px;
            padding: 0.75rem 1rem;
            width: 100%;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
       .input-field:focus {
            border-color: #14B8A6; 
            box-shadow: 0 0 0 2px rgba(20, 184, 166, 0.3);
            outline: none;
        }
       .chart-container { 
            position: relative;
            width: 100%;
            max-width: 600px; 
            margin-left: auto;
            margin-right: auto;
            height: 280px; 
            max-height: 360px; 
            margin-bottom: 1rem; 
        }
        @media (min-width: 768px) {
           .chart-container {
                height: 300px; 
            }
        }
       .icon-style {
            display: inline-block;
            margin-right: 0.5rem;
            color: #14B8A6; 
        }
       .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 4px;
            max-width: 400px;
            margin: 1.5rem auto;
            padding: 1rem;
            background-color: #F9FAFB; 
            border-radius: 8px;
        }
       .calendar-header {
            text-align: center;
            font-weight: 500;
            font-size: 0.875rem; 
            color: #6B7280; 
            padding-bottom: 0.5rem;
        }
       .calendar-day {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 40px;
            font-size: 0.875rem; 
            border-radius: 4px;
        }
       .calendar-day.empty {
            background-color: transparent;
        }
       .calendar-day.event-date {
            background-color: #14B8A6; 
            color: white;
            font-weight: bold;
        }
       .calendar-day.other-month {
            color: #D1D5DB; 
        }
       .footer-main { 
            text-align: center;
            padding-top: 2rem; 
            padding-bottom: 1rem;
            border-top: 1px solid #E5E5E5; 
            margin-top: 2rem;
        }
    </style>
</head>
<body>
    <aside id="sidebar">
    </aside>

    <main id="main-content-area">
        <div class="content-wrapper">
            <div id="event-detail-content">
                <section class="content-section">
                    <h2 class="event-title-main">イベントを選択してください</h2>
                    <p>左のメニューからイベントを選択すると、詳細情報が表示されます。</p>
                </section>
            </div>
        </div>
    </main>

    <script>
        const eventsData = [
            // --- 5月 ---
            {
                id: 'adachi_hanabi',
                month: 5, name: '足立の花火', prefecture: '東京都', dates: '5月31日 (例年の傾向と異なる場合あり)',
                calendarDates: { month: 5, year: 2025, startDay: 31, endDay: 31, highlightDays: [31] }, 
                location: '〒123-0851 東京都足立区梅田４丁目 荒川西新井緑地帯', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('〒123-0851 東京都足立区梅田４丁目 荒川西新井緑地帯')}&hl=ja`,
                attendance: '約70万人（例年）', minWage: { value: 1163, area: '東京都', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://www.adachikanko.net/wp-content/uploads/2023/04/b1f27d84e3141d19d3791795fe158250-700x467.jpg',
                wages: { 
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1200, 1220, 1180], ranges: {'セブン-イレブン': '¥1,170 - ¥1,260+', 'ファミリーマート': '¥1,180 - ¥1,280+', 'ローソン': '¥1,170 - ¥1,240+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1300, 1220, 1260, 1180, 1200], 
                        ranges: {'居酒屋': '¥1,180 - ¥1,420', 'ファミリーレストラン': '¥1,170 - ¥1,300', 'レストラン(その他)': '¥1,180 - ¥1,380', 'ファストフード': '¥1,170 - ¥1,230', 'カフェ': '¥1,170 - ¥1,280'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1340, 1280, 1240], ranges: {'アパレル': '¥1,230 - ¥1,520', '雑貨・土産': '¥1,180 - ¥1,420', 'ドラッグストア': '¥1,170 - ¥1,350'} }
                }
            },
            // --- 6月 ---
            {
                id: 'toyama_sanno_matsuri',
                month: 6, name: '山王まつり (日枝神社)', prefecture: '富山県', dates: '6月1日～3日 (ユーザー提供情報)', 
                calendarDates: { month: 6, year: 2025, startDay: 1, endDay: 3, highlightDays: [1,2,3] },
                location: '富山県富山市山王町 日枝神社', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('富山県富山市山王町 日枝神社')}&hl=ja`,
                attendance: '約20万人以上（例年）', minWage: { value: 998, area: '富山県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://www.hie.jp/cms/wp-content/uploads/2018/05/c9145cb5ac33ab368fc0c3990f870418.jpg',
                wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1040, 1050, 1030], ranges: {'セブン-イレブン': '¥1,000 - ¥1,100+', 'ファミリーマート': '¥1,000 - ¥1,120+', 'ローソン': '¥1,000 - ¥1,080+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1160, 1080, 1130, 1030, 1060], 
                        ranges: {'居酒屋': '¥1,050 - ¥1,280', 'ファミリーレストラン': '¥1,000 - ¥1,160', 'レストラン(その他)': '¥1,040 - ¥1,240', 'ファストフード': '¥1,000 - ¥1,100', 'カフェ': '¥1,010 - ¥1,140'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1190, 1110, 1070], ranges: {'アパレル': '¥1,050 - ¥1,320', '雑貨・土産': '¥1,020 - ¥1,220', 'ドラッグストア': '¥1,000 - ¥1,160'} }
                }
            },
            {
                id: 'yosakoi_soran',
                month: 6, name: 'YOSAKOIソーラン祭り', prefecture: '北海道', dates: '6月4日～8日 (2025年開催想定)',
                calendarDates: { month: 6, year: 2025, startDay: 4, endDay: 8, highlightDays: [4,5,6,7,8] },
                location: '北海道札幌市中央区大通西8丁目 大通公園', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('北海道札幌市中央区大通西8丁目 大通公園')}&hl=ja`,
                attendance: '約210万9,000人（2024年実績）', minWage: { value: 1010, area: '北海道', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://static.yosakoi-soran.jp/wp-content/uploads/2024/06/06063513/20240605_01.jpg',
                wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1050, 1060, 1040], ranges: {'セブン-イレブン': '¥1,010 - ¥1,100+', 'ファミリーマート': '¥1,020 - ¥1,120+', 'ローソン': '¥1,010 - ¥1,090+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1180, 1100, 1150, 1060, 1090], 
                        ranges: {'居酒屋': '¥1,050 - ¥1,300', 'ファミリーレストラン': '¥1,020 - ¥1,180', 'レストラン(その他)': '¥1,050 - ¥1,250', 'ファストフード': '¥1,010 - ¥1,120', 'カフェ': '¥1,020 - ¥1,160'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1200, 1100, 1080], ranges: {'アパレル': '¥1,050 - ¥1,400', '雑貨・土産': '¥1,010 - ¥1,250', 'ドラッグストア': '¥1,010 - ¥1,200'} }
                }
            },
             // --- 7月 ---
            {
                id: 'fujisan_yamabiraki_yoshida', month: 7, name: '富士山山開き（吉田口）', prefecture: '山梨県', dates: '7月1日',
                calendarDates: { month: 7, year: 2025, startDay: 1, endDay: 1, highlightDays: [1] },
                location: '山梨県富士吉田市 北口本宮冨士浅間神社',
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('山梨県富士吉田市 北口本宮冨士浅間神社')}&hl=ja`,
                attendance: '情報なし', minWage: { value: 994, area: '山梨県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://www.yamanashi-kankou.jp/kankou/spot/images/p1_3676_1.jpg',
                wages: { // New data for Yamanashi
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1030, 1040, 1020], ranges: {'セブン-イレブン': '¥995 - ¥1,100+', 'ファミリーマート': '¥1,000 - ¥1,110+', 'ローソン': '¥995 - ¥1,080+'} },
                    restaurant: { labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], data: [1140, 1060, 1110, 1020, 1040], ranges: {'居酒屋': '¥1,040 - ¥1,250', 'ファミリーレストラン': '¥1,000 - ¥1,150', 'レストラン(その他)': '¥1,030 - ¥1,220', 'ファストフード': '¥995 - ¥1,080', 'カフェ': '¥1,000 - ¥1,120'} },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1170, 1090, 1050], ranges: {'アパレル': '¥1,050 - ¥1,300', '雑貨・土産': '¥1,020 - ¥1,200', 'ドラッグストア': '¥1,000 - ¥1,150'} }
                }
            },
            {
                id: 'hakata_gion_yamakasa', month: 7, name: '博多祇園山笠', prefecture: '福岡県', dates: '7月1日～15日',
                calendarDates: { month: 7, year: 2025, startDay: 1, endDay: 15, highlightDays: [1,15] },
                location: '福岡県福岡市博多区 櫛田神社周辺',
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('福岡県福岡市博多区 櫛田神社')}&hl=ja`,
                attendance: '約100万人以上', minWage: { value: 1000, area: '福岡県', effectiveDate: '令和6年10月6日' },
                imagePlaceholder: 'https://www.kushida-jinja.or.jp/yamakasa/img/main.jpg',
                wages: { // New data for Fukuoka
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1050, 1060, 1040], ranges: {'セブン-イレブン': '¥1,000 - ¥1,120+', 'ファミリーマート': '¥1,010 - ¥1,140+', 'ローソン': '¥1,000 - ¥1,100+'} },
                    restaurant: { labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], data: [1180, 1090, 1140, 1050, 1080], ranges: {'居酒屋': '¥1,080 - ¥1,300', 'ファミリーレストラン': '¥1,020 - ¥1,180', 'レストラン(その他)': '¥1,050 - ¥1,250', 'ファストフード': '¥1,000 - ¥1,120', 'カフェ': '¥1,030 - ¥1,160'} },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1220, 1150, 1100], ranges: {'アパレル': '¥1,100 - ¥1,400', '雑貨・土産': '¥1,050 - ¥1,280', 'ドラッグストア': '¥1,030 - ¥1,220'} }
                }
            },
            {
                id: 'shonan_hiratsuka_tanabata', month: 7, name: '湘南ひらつか七夕まつり', prefecture: '神奈川県', dates: '7月4日～6日',
                calendarDates: { month: 7, year: 2025, startDay: 4, endDay: 6, highlightDays: [4,5,6] },
                location: '神奈川県平塚市 市中心部',
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('神奈川県平塚市')}&hl=ja`,
                attendance: '約155万人', minWage: { value: 1157, area: '神奈川県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'http://www.tanabata-hiratsuka.com/images/top/main.jpg',
                wages: { // New data for Kanagawa
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1190, 1200, 1180], ranges: {'セブン-イレブン': '¥1,160 - ¥1,250+', 'ファミリーマート': '¥1,170 - ¥1,270+', 'ローソン': '¥1,160 - ¥1,230+'} },
                    restaurant: { labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], data: [1290, 1210, 1250, 1180, 1200], ranges: {'居酒屋': '¥1,180 - ¥1,400', 'ファミリーレストラン': '¥1,160 - ¥1,290', 'レストラン(その他)': '¥1,180 - ¥1,370', 'ファストフード': '¥1,160 - ¥1,230', 'カフェ': '¥1,170 - ¥1,280'} },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1330, 1270, 1230], ranges: {'アパレル': '¥1,220 - ¥1,500', '雑貨・土産': '¥1,180 - ¥1,400', 'ドラッグストア': '¥1,160 - ¥1,340'} }
                }
            },
            {
                id: 'noto_kiriko_abare', month: 7, name: '能登キリコ祭り（あばれ祭り）', prefecture: '石川県', dates: '7月4日・5日',
                calendarDates: { month: 7, year: 2025, startDay: 4, endDay: 5, highlightDays: [4,5] },
                location: '石川県能登町 宇出津地区',
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('石川県能登町宇出津')}&hl=ja`,
                attendance: '情報なし', minWage: { value: 987, area: '石川県', effectiveDate: '令和6年10月2日' },
                imagePlaceholder: 'https://www.hot-ishikawa.jp/files/storage/image/spot/54/main.jpg',
                wages: { // New data for Ishikawa
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1030, 1040, 1020], ranges: {'セブン-イレブン': '¥990 - ¥1,100+', 'ファミリーマート': '¥990 - ¥1,110+', 'ローソン': '¥990 - ¥1,080+'} },
                    restaurant: { labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], data: [1140, 1060, 1100, 1020, 1050], ranges: {'居酒屋': '¥1,040 - ¥1,250', 'ファミリーレストラン': '¥1,000 - ¥1,150', 'レストラン(その他)': '¥1,030 - ¥1,220', 'ファストフード': '¥990 - ¥1,080', 'カフェ': '¥1,000 - ¥1,120'} },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1170, 1090, 1060], ranges: {'アパレル': '¥1,050 - ¥1,300', '雑貨・土産': '¥1,020 - ¥1,200', 'ドラッグストア': '¥1,000 - ¥1,150'} }
                }
            },
            {
                id: 'gion_matsuri', month: 7, name: '祇園祭', prefecture: '京都府', dates: '7月1日～31日 (山鉾巡行:17日・24日)',
                calendarDates: { month: 7, year: 2025, startDay: 1, endDay: 31, highlightDays: [17, 24] },
                location: '京都府京都市東山区祇園町北側 八坂神社', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('京都府京都市東山区祇園町北側 八坂神社')}&hl=ja`,
                attendance: '約100万人以上', minWage: { value: 1058, area: '京都府', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://www.yasaka-jinja.or.jp/wp-content/uploads/2021/07/gionmatsuri_main.jpg',
                wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1100, 1110, 1090], ranges: {'セブン-イレブン': '¥1,060 - ¥1,180+', 'ファミリーマート': '¥1,070 - ¥1,190+', 'ローソン': '¥1,060 - ¥1,150+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1220, 1130, 1180, 1090, 1120], 
                        ranges: {'居酒屋': '¥1,100 - ¥1,350', 'ファミリーレストラン': '¥1,070 - ¥1,200', 'レストラン(その他)': '¥1,100 - ¥1,300', 'ファストフード': '¥1,060 - ¥1,150', 'カフェ': '¥1,070 - ¥1,200'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1260, 1190, 1160], ranges: {'アパレル': '¥1,150 - ¥1,450', '雑貨・土産': '¥1,100 - ¥1,320', 'ドラッグストア': '¥1,080 - ¥1,280'} }
                }
            },
            {
                id: 'tenjin_matsuri', month: 7, name: '天神祭', prefecture: '大阪府', dates: '7月24日・25日',
                calendarDates: { month: 7, year: 2025, startDay: 24, endDay: 25, highlightDays: [24, 25] },
                location: '大阪府大阪市北区天神橋 大阪天満宮', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('大阪府大阪市北区天神橋 大阪天満宮')}&hl=ja`,
                attendance: '約130万人', minWage: { value: 1114, area: '大阪府', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://img01.jalannews.jp/img/2024/06/20240603_osaka-tenjin_001.jpg',
                wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1170, 1180, 1150], ranges: {'セブン-イレブン': '¥1,120 - ¥1,230+', 'ファミリーマート': '¥1,130 - ¥1,250+', 'ローソン': '¥1,120 - ¥1,210+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1280, 1190, 1240, 1150, 1180], 
                        ranges: {'居酒屋': '¥1,150 - ¥1,400', 'ファミリーレストラン': '¥1,130 - ¥1,280', 'レストラン(その他)': '¥1,150 - ¥1,350', 'ファストフード': '¥1,120 - ¥1,220', 'カフェ': '¥1,130 - ¥1,250'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1320, 1250, 1210], ranges: {'アパレル': '¥1,200 - ¥1,500', '雑貨・土産': '¥1,150 - ¥1,400', 'ドラッグストア': '¥1,130 - ¥1,320'} }
                }
            },
            {
                id: 'fuji_rock', month: 7, name: 'フジロック・フェスティバル', prefecture: '新潟県', dates: '7月25日～27日',
                calendarDates: { month: 7, year: 2025, startDay: 25, endDay: 27, highlightDays: [25,26,27] },
                location: '新潟県湯沢町三国 苗場スキー場', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('新潟県湯沢町三国 苗場スキー場')}&hl=ja`,
                attendance: '約10万人以上', minWage: { value: 985, area: '新潟県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://bcij.jp/wp-content/uploads/2018/08/green_a.jpg',
                 wages: { 
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1030, 1040, 1020], ranges: {'セブン-イレブン': '¥990 - ¥1,100+', 'ファミリーマート': '¥990 - ¥1,110+', 'ローソン': '¥990 - ¥1,080+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1150, 1070, 1120, 1020, 1050], 
                        ranges: {'居酒屋': '¥1,050 - ¥1,250', 'ファミリーレストラン': '¥1,000 - ¥1,150', 'レストラン(その他)': '¥1,040 - ¥1,220', 'ファストフード': '¥990 - ¥1,080', 'カフェ': '¥1,000 - ¥1,120'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1180, 1100, 1060], ranges: {'アパレル': '¥1,050 - ¥1,300', '雑貨・土産': '¥1,020 - ¥1,200', 'ドラッグストア': '¥990 - ¥1,150'} }
                }
            },
            {
                id: 'sumidagawa_hanabi', month: 7, name: '隅田川花火大会', prefecture: '東京都', dates: '7月26日',
                calendarDates: { month: 7, year: 2025, startDay: 26, endDay: 26, highlightDays: [26] },
                location: '東京都墨田区 隅田川河川敷', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('東京都墨田区 隅田川花火大会 会場')}&hl=ja`,
                attendance: '約90万人以上', minWage: { value: 1163, area: '東京都', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://img.activityjapan.com/wi/sumidagawa_hanabi_top01.jpg',
                wages: { // Re-using Adachi (Tokyo) wages as they are similar
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1210, 1230, 1190], ranges: {'セブン-イレブン': '¥1,170 - ¥1,280+', 'ファミリーマート': '¥1,180 - ¥1,300+', 'ローソン': '¥1,170 - ¥1,260+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1320, 1240, 1280, 1190, 1220], 
                        ranges: {'居酒屋': '¥1,200 - ¥1,450', 'ファミリーレストラン': '¥1,170 - ¥1,320', 'レストラン(その他)': '¥1,200 - ¥1,400', 'ファストフード': '¥1,170 - ¥1,250', 'カフェ': '¥1,180 - ¥1,300'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1360, 1300, 1260], ranges: {'アパレル': '¥1,250 - ¥1,550', '雑貨・土産': '¥1,200 - ¥1,450', 'ドラッグストア': '¥1,180 - ¥1,380'} }
                }
            },
            // --- 8月 ---
            {
                id: 'hachinohe_sansha_taisai', month: 8, name: '八戸三社大祭', prefecture: '青森県', dates: '7月31日～8月4日',
                calendarDates: { month: 8, year: 2025, startDay: 1, endDay: 4, highlightDays: [1,2,3,4] }, // Spans July and August, showing in August
                location: '青森県八戸市',
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('青森県八戸市')}&hl=ja`,
                attendance: '約100万人', minWage: { value: 953, area: '青森県', effectiveDate: '令和6年10月5日' },
                imagePlaceholder: 'https://hachinohe-kanko.com/wp-content/uploads/2022/07/75a408e5a730b2e0618a28292885913f-scaled.jpg',
                wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1000, 1010, 990], ranges: {'セブン-イレブン': '¥960 - ¥1,080+', 'ファミリーマート': '¥970 - ¥1,090+', 'ローソン': '¥960 - ¥1,060+'} },
                    restaurant: { labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], data: [1120, 1030, 1080, 980, 1000], ranges: {'居酒屋': '¥1,000 - ¥1,250', 'ファミリーレストラン': '¥960 - ¥1,100', 'レストラン(その他)': '¥980 - ¥1,200', 'ファストフード': '¥960 - ¥1,050', 'カフェ': '¥970 - ¥1,080'} },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1160, 1090, 1060], ranges: {'アパレル': '¥1,050 - ¥1,350', '雑貨・土産': '¥1,000 - ¥1,220', 'ドラッグストア': '¥980 - ¥1,180'} }
                }
            },
            {
                id: 'aomori_nebuta', month: 8, name: '青森ねぶた祭', prefecture: '青森県', dates: '8月2日～7日',
                calendarDates: { month: 8, year: 2025, startDay: 2, endDay: 7, highlightDays: [2,3,4,5,6,7] },
                location: '青森県青森市中央１丁目', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('青森県青森市中央１丁目')}&hl=ja`, 
                attendance: '延べ約200万人以上', minWage: { value: 953, area: '青森県', effectiveDate: '令和6年10月5日' },
                imagePlaceholder: 'https://kamenoi-hotels.com/selection/img/nebuta/slider/1.jpg',
                wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1000, 1010, 990], ranges: {'セブン-イレブン': '¥960 - ¥1,080+', 'ファミリーマート': '¥970 - ¥1,090+', 'ローソン': '¥960 - ¥1,060+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1120, 1030, 1080, 980, 1000], 
                        ranges: {'居酒屋': '¥1,000 - ¥1,250', 'ファミリーレストラン': '¥960 - ¥1,100', 'レストラン(その他)': '¥980 - ¥1,200', 'ファストフード': '¥960 - ¥1,050', 'カフェ': '¥970 - ¥1,080'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1160, 1090, 1060], ranges: {'アパレル': '¥1,050 - ¥1,350', '雑貨・土産': '¥1,000 - ¥1,220', 'ドラッグストア': '¥980 - ¥1,180'} }
                }
            },
            { 
                id: 'kochi_yosakoi',
                month: 8,
                name: '高知よさこい祭り',
                prefecture: '高知県',
                dates: '8月9日～12日',
                calendarDates: { month: 8, year: 2025, startDay: 9, endDay: 12, highlightDays: [9, 10, 11, 12] },
                location: '高知県高知市追手筋 高知城下～中央公園周辺',
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('高知県高知市中央公園')}&hl=ja`,
                attendance: '約100万人～115万人',
                minWage: { value: 952, area: '高知県', effectiveDate: '令和6年10月9日' },
                imagePlaceholder: 'https://yosakoimatsuri.com/kochi/wp-content/uploads/2013/04/main_photo.jpg',
                wages: {
                    convenience: {
                        labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'],
                        data: [1000, 980, 970],
                        ranges: {'セブン-イレブン': '¥960 - ¥1080+', 'ファミリーマート': '¥960 - ¥1060+', 'ローソン': '¥960 - ¥1050+'}
                    },
                    restaurant: {
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'],
                        data: [1080, 1000, 1050, 980, 1020],
                        ranges: {'居酒屋': '¥1000 - ¥1200', 'ファミリーレストラン': '¥960 - ¥1100', 'レストラン(その他)': '¥980 - ¥1150', 'ファストフード': '¥960 - ¥1050', 'カフェ': '¥970 - ¥1100'}
                    },
                    retail: {
                        labels: ['アパレル', '雑貨・土産', 'ドラッグストア'],
                        data: [1100, 1050, 1000],
                        ranges: {'アパレル': '¥1000 - ¥1250', '雑貨・土産': '¥980 - ¥1180', 'ドラッグストア': '¥960 - ¥1100'}
                    }
                }
            },
            {
                id: 'nagaoka_hanabi', month: 8, name: '長岡まつり大花火大会', prefecture: '新潟県', dates: '8月2日・3日',
                calendarDates: { month: 8, year: 2025, startDay: 2, endDay: 3, highlightDays: [2,3] },
                location: '新潟県長岡市長生橋下流 信濃川河川敷', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('新潟県長岡市長生橋下流 信濃川河川敷')}&hl=ja`,
                attendance: '約100万人（2019年）', minWage: { value: 985, area: '新潟県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://nagaoka-navi.or.jp/image/rendering/feature_image/53/keep/1200?v=32c30891fb823e04103d5f9177a3c27169f5d4f9',
                 wages: { // Re-using Fuji Rock (Niigata) wages
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1030, 1040, 1020], ranges: {'セブン-イレブン': '¥990 - ¥1,100+', 'ファミリーマート': '¥990 - ¥1,110+', 'ローソン': '¥990 - ¥1,080+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1150, 1070, 1120, 1020, 1050], 
                        ranges: {'居酒屋': '¥1,050 - ¥1,250', 'ファミリーレストラン': '¥1,000 - ¥1,150', 'レストラン(その他)': '¥1,040 - ¥1,220', 'ファストフード': '¥990 - ¥1,080', 'カフェ': '¥1,000 - ¥1,120'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1180, 1100, 1060], ranges: {'アパレル': '¥1,050 - ¥1,300', '雑貨・土産': '¥1,020 - ¥1,200', 'ドラッグストア': '¥990 - ¥1,150'} }
                }
            },
            {
                id: 'akita_kanto', month: 8, name: '秋田竿燈まつり', prefecture: '秋田県', dates: '8月3日～6日',
                calendarDates: { month: 8, year: 2025, startDay: 3, endDay: 6, highlightDays: [3,4,5,6] },
                location: '秋田県秋田市竿燈大通り', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('秋田県秋田市竿燈大通り')}&hl=ja`,
                attendance: '約132万人（2016年）', minWage: { value: 951, area: '秋田県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://www.yakei-isan.jp/data/spot_img/030.jpg',
                 wages: { 
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1000, 1010, 980], ranges: {'セブン-イレブン': '¥960 - ¥1,070+', 'ファミリーマート': '¥960 - ¥1,080+', 'ローソン': '¥960 - ¥1,050+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1100, 1020, 1060, 970, 990], 
                        ranges: {'居酒屋': '¥1,000 - ¥1,200', 'ファミリーレストラン': '¥960 - ¥1,100', 'レストラン(その他)': '¥980 - ¥1,150', 'ファストフード': '¥960 - ¥1,040', 'カフェ': '¥960 - ¥1,060'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1130, 1060, 1020], ranges: {'アパレル': '¥1,020 - ¥1,280', '雑貨・土産': '¥980 - ¥1,180', 'ドラッグストア': '¥970 - ¥1,120'} }
                }
            },
            {
                id: 'omagari_hanabi', month: 8, name: '大曲の花火', prefecture: '秋田県', dates: '8月30日',
                calendarDates: { month: 8, year: 2025, startDay: 30, endDay: 30, highlightDays: [30] },
                location: '〒014-0057 秋田県大仙市大曲船場町 大曲の花火', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('〒014-0057 秋田県大仙市大曲船場町 大曲の花火')}&hl=ja`, 
                attendance: '約70万人', minWage: { value: 951, area: '秋田県', effectiveDate: '令和6年10月1日' }, 
                imagePlaceholder: 'https://daisenkankou.com/wp-content/uploads/2015/08/15745bb54029ce010bf3bf08684333ac.jpg',
                wages: { // Similar to Akita Kanto
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1000, 1010, 980], ranges: {'セブン-イレブン': '¥960 - ¥1,070+', 'ファミリーマート': '¥960 - ¥1,080+', 'ローソン': '¥960 - ¥1,050+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1100, 1020, 1060, 970, 990], 
                        ranges: {'居酒屋': '¥1,000 - ¥1,200', 'ファミリーレストラン': '¥960 - ¥1,100', 'レストラン(その他)': '¥980 - ¥1,150', 'ファストフード': '¥960 - ¥1,040', 'カフェ': '¥960 - ¥1,060'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1130, 1060, 1020], ranges: {'アパレル': '¥1,020 - ¥1,280', '雑貨・土産': '¥980 - ¥1,180', 'ドラッグストア': '¥970 - ¥1,120'} }
                }
            },
            {
                id: 'sendai_tanabata', month: 8, name: '仙台七夕まつり', prefecture: '宮城県', dates: '8月6日～8日',
                calendarDates: { month: 8, year: 2025, startDay: 6, endDay: 8, highlightDays: [6,7,8] },
                location: '宮城県仙台市青葉区一番町 中央通り', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('宮城県仙台市青葉区一番町 中央通り')}&hl=ja`,
                attendance: '約200万人（例年）', minWage: { value: 973, area: '宮城県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://upload.wikimedia.org/wikipedia/commons/thumb/8/81/Sendai_Tanabata_2023.jpg/960px-Sendai_Tanabata_2023.jpg',
                 wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1020, 1030, 1010], ranges: {'セブン-イレブン': '¥980 - ¥1,090+', 'ファミリーマート': '¥990 - ¥1,110+', 'ローソン': '¥980 - ¥1,070+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1130, 1050, 1100, 1000, 1030], 
                        ranges: {'居酒屋': '¥1,020 - ¥1,250', 'ファミリーレストラン': '¥980 - ¥1,120', 'レストラン(その他)': '¥1,000 - ¥1,220', 'ファストフード': '¥980 - ¥1,080', 'カフェ': '¥990 - ¥1,100'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1180, 1110, 1080], ranges: {'アパレル': '¥1,070 - ¥1,350', '雑貨・土産': '¥1,020 - ¥1,250', 'ドラッグストア': '¥1,000 - ¥1,200'} }
                }
            },
            {
                id: 'edogawaku_hanabi', month: 8, name: '江戸川区花火大会', prefecture: '東京都', dates: '8月2日',
                calendarDates: { month: 8, year: 2025, startDay: 2, endDay: 2, highlightDays: [2] },
                location: '東京都江戸川区北小岩４丁目 江戸川河川敷', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('東京都江戸川区北小岩４丁目 江戸川河川敷')}&hl=ja`,
                attendance: '約139万人（2018年）', minWage: { value: 1163, area: '東京都', effectiveDate: '令和6年10月1日' }, 
                imagePlaceholder: 'https://tokyo-trip.org/wp-content/uploads/2018/07/edogawakuhanabi2024.jpg',
                wages: { // Re-using Sumidagawa (Tokyo) wages
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1210, 1230, 1190], ranges: {'セブン-イレブン': '¥1,170 - ¥1,280+', 'ファミリーマート': '¥1,180 - ¥1,300+', 'ローソン': '¥1,170 - ¥1,260+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1320, 1240, 1280, 1190, 1220], 
                        ranges: {'居酒屋': '¥1,200 - ¥1,450', 'ファミリーレストラン': '¥1,170 - ¥1,320', 'レストラン(その他)': '¥1,200 - ¥1,400', 'ファストフード': '¥1,170 - ¥1,250', 'カフェ': '¥1,180 - ¥1,300'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1360, 1300, 1260], ranges: {'アパレル': '¥1,250 - ¥1,550', '雑貨・土産': '¥1,200 - ¥1,450', 'ドラッグストア': '¥1,180 - ¥1,380'} }
                }
            },
            {
                id: 'tokushima_awaodori', month: 8, name: '徳島市阿波おどり', prefecture: '徳島県', dates: '8月11日～15日',
                calendarDates: { month: 8, year: 2025, startDay: 11, endDay: 15, highlightDays: [11,12,13,14,15] },
                location: '徳島県徳島市中心部', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('徳島県徳島市')}&hl=ja`,
                attendance: '約130万人', minWage: { value: 980, area: '徳島県', effectiveDate: '令和6年11月1日' },
                imagePlaceholder: 'https://funfun-tokushima.jp/wp/wp-content/uploads/2024/06/awaodori_minamiuchimachi.jpg',
                 wages: {
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1030, 1040, 1020], ranges: {'セブン-イレブン': '¥990 - ¥1,100+', 'ファミリーマート': '¥990 - ¥1,110+', 'ローソン': '¥990 - ¥1,090+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1140, 1060, 1100, 1010, 1040], 
                        ranges: {'居酒屋': '¥1,030 - ¥1,250', 'ファミリーレストラン': '¥990 - ¥1,130', 'レストラン(その他)': '¥1,020 - ¥1,220', 'ファストフード': '¥980 - ¥1,070', 'カフェ': '¥990 - ¥1,100'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1190, 1120, 1090], ranges: {'アパレル': '¥1,080 - ¥1,350', '雑貨・土産': '¥1,030 - ¥1,250', 'ドラッグストア': '¥1,010 - ¥1,200'} }
                }
            },
            {
                id: 'summer_sonic', month: 8, name: 'サマーソニック', prefecture: '千葉県・大阪府', dates: '8月16日・17日',
                calendarDates: { month: 8, year: 2025, startDay: 16, endDay: 17, highlightDays: [16,17] },
                location: '千葉県千葉市美浜区中瀬 ZOZOマリンスタジアム', // More specific location for Chiba
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('千葉県千葉市美浜区中瀬 ZOZOマリンスタジアム')}&hl=ja`, 
                attendance: '約21.5万人（東京＋大阪合計）', minWage: { value: 1076, area: '千葉県', effectiveDate: '令和6年10月1日' }, // Chiba's min wage
                imagePlaceholder: 'https://www.fashion-press.net/img/news/113288/ezw.jpg',
                 wages: { // Chiba wages
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1120, 1130, 1110], ranges: {'セブン-イレブン': '¥1,080 - ¥1,190+', 'ファミリーマート': '¥1,090 - ¥1,200+', 'ローソン': '¥1,080 - ¥1,180+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1230, 1150, 1200, 1100, 1130], 
                        ranges: {'居酒屋': '¥1,120 - ¥1,350', 'ファミリーレストラン': '¥1,080 - ¥1,250', 'レストラン(その他)': '¥1,100 - ¥1,320', 'ファストフード': '¥1,080 - ¥1,180', 'カフェ': '¥1,090 - ¥1,200'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1280, 1210, 1180], ranges: {'アパレル': '¥1,170 - ¥1,450', '雑貨・土産': '¥1,120 - ¥1,350', 'ドラッグストア': '¥1,100 - ¥1,300'} }
                }
            },
            {
                id: 'rock_in_japan', month: 8, name: 'ROCK IN JAPAN FESTIVAL', prefecture: '千葉県', dates: '8月9日～13日',
                calendarDates: { month: 8, year: 2025, startDay: 9, endDay: 13, highlightDays: [9,10,11,12,13] },
                location: '千葉県千葉市中央区川崎町 蘇我スポーツ公園', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('千葉県千葉市中央区川崎町 蘇我スポーツ公園')}&hl=ja`,
                attendance: '約27.5万人（2024年）', minWage: { value: 1076, area: '千葉県', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://rijfes.s3.ap-northeast-1.amazonaws.com/202409/img/upload/2024/09/15080507/rijf2024_hitachinaka_home_pc-scaled.jpg',
                wages: { // Chiba wages (same as Summer Sonic Chiba)
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1120, 1130, 1110], ranges: {'セブン-イレブン': '¥1,080 - ¥1,190+', 'ファミリーマート': '¥1,090 - ¥1,200+', 'ローソン': '¥1,080 - ¥1,180+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1230, 1150, 1200, 1100, 1130], 
                        ranges: {'居酒屋': '¥1,120 - ¥1,350', 'ファミリーレストラン': '¥1,080 - ¥1,250', 'レストラン(その他)': '¥1,100 - ¥1,320', 'ファストフード': '¥1,080 - ¥1,180', 'カフェ': '¥1,090 - ¥1,200'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1280, 1210, 1180], ranges: {'アパレル': '¥1,170 - ¥1,450', '雑貨・土産': '¥1,120 - ¥1,350', 'ドラッグストア': '¥1,100 - ¥1,300'} }
                }
            },
             {
                id: 'rising_sun_rock', month: 8, name: 'RISING SUN ROCK FESTIVAL', prefecture: '北海道', dates: '8月16日・17日',
                calendarDates: { month: 8, year: 2025, startDay: 16, endDay: 17, highlightDays: [16,17] },
                location: '北海道石狩市新港中央１丁目 石狩湾新港特設会場', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('北海道石狩市新港中央１丁目 石狩湾新港特設会場')}&hl=ja`,
                attendance: '約6.8万人（2024年）', minWage: { value: 1010, area: '北海道', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://www.fashion-press.net/img/news/82460/Lvc.jpg',
                wages: { // Hokkaido wages (Ishikari, near Sapporo, same as YOSAKOI Soran)
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1050, 1060, 1040], ranges: {'セブン-イレブン': '¥1,010 - ¥1,100+', 'ファミリーマート': '¥1,020 - ¥1,120+', 'ローソン': '¥1,010 - ¥1,090+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1180, 1100, 1150, 1060, 1090], 
                        ranges: {'居酒屋': '¥1,050 - ¥1,300', 'ファミリーレストラン': '¥1,020 - ¥1,180', 'レストラン(その他)': '¥1,050 - ¥1,250', 'ファストフード': '¥1,010 - ¥1,120', 'カフェ': '¥1,020 - ¥1,160'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1200, 1100, 1080], ranges: {'アパレル': '¥1,050 - ¥1,400', '雑貨・土産': '¥1,010 - ¥1,250', 'ドラッグストア': '¥1,010 - ¥1,200'} }
                }
            },
            {
                id: 'tokyo_idol_fes', month: 8, name: 'TOKYO IDOL FESTIVAL', prefecture: '東京都', dates: '8月1日～3日',
                calendarDates: { month: 8, year: 2025, startDay: 1, endDay: 3, highlightDays: [1,2,3] },
                location: '東京都江東区青海１丁目１', 
                mapEmbedUrl: `https://www.google.com/maps?output=embed&q=${encodeURIComponent('東京都江東区青海１丁目１ お台場・青海周辺エリア')}&hl=ja`,
                attendance: '約8.0万人（2024年）', minWage: { value: 1163, area: '東京都', effectiveDate: '令和6年10月1日' },
                imagePlaceholder: 'https://spice.eplus.jp/images/ABiEnVWxkFkznPh356ScRma6dFVII5NARegtA0zP0hV1lITG07SpkCWbUbMVevfv',
                wages: { // Tokyo wages (same as Sumidagawa)
                    convenience: { labels: ['セブン-イレブン', 'ファミリーマート', 'ローソン'], data: [1210, 1230, 1190], ranges: {'セブン-イレブン': '¥1,170 - ¥1,280+', 'ファミリーマート': '¥1,180 - ¥1,300+', 'ローソン': '¥1,170 - ¥1,260+'} },
                    restaurant: { 
                        labels: ['居酒屋', 'ファミリーレストラン', 'レストラン(その他)', 'ファストフード', 'カフェ'], 
                        data: [1320, 1240, 1280, 1190, 1220], 
                        ranges: {'居酒屋': '¥1,200 - ¥1,450', 'ファミリーレストラン': '¥1,170 - ¥1,320', 'レストラン(その他)': '¥1,200 - ¥1,400', 'ファストフード': '¥1,170 - ¥1,250', 'カフェ': '¥1,180 - ¥1,300'} 
                    },
                    retail: { labels: ['アパレル', '雑貨・土産', 'ドラッグストア'], data: [1360, 1300, 1260], ranges: {'アパレル': '¥1,250 - ¥1,550', '雑貨・土産': '¥1,200 - ¥1,450', 'ドラッグストア': '¥1,180 - ¥1,380'} }
                }
            }
        ];

        const sidebarElement = document.getElementById('sidebar');
        const eventDetailContentElement = document.getElementById('event-detail-content');
        const currentYear = new Date().getFullYear();
        let activeChartInstances = []; 

        function populateSidebar() {
            const eventsByMonthThenArea = {};
            const monthNames = ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"];

            // Sort events by month, then by prefecture, then by name
            eventsData.sort((a,b) => a.month - b.month || a.prefecture.localeCompare(b.prefecture) || a.name.localeCompare(b.name))
                        .forEach(event => {
                const monthName = monthNames[event.month - 1];
                if (!eventsByMonthThenArea[monthName]) {
                    eventsByMonthThenArea[monthName] = {};
                }
                if (!eventsByMonthThenArea[monthName][event.prefecture]) {
                    eventsByMonthThenArea[monthName][event.prefecture] = [];
                }
                eventsByMonthThenArea[monthName][event.prefecture].push(event);
            });

            let sidebarHTML = '<h2 class="sidebar-main-title">イベント一覧 (開催月別)</h2>';
            for (const monthName in eventsByMonthThenArea) {
                sidebarHTML += `<div class="menu-month-group">`;
                sidebarHTML += `<h3 class="menu-month-title" data-target="month-content-${monthName.replace(/[^a-zA-Z0-9]/g, '')}">${monthName} <span class="toggle-icon">+</span></h3>`;
                sidebarHTML += `<div id="month-content-${monthName.replace(/[^a-zA-Z0-9]/g, '')}" class="menu-month-content">`; 

                for (const areaName in eventsByMonthThenArea[monthName]) {
                    sidebarHTML += `<div class="menu-area-group">`;
                    sidebarHTML += `<h4 class="menu-area-title">${areaName}</h4>`;
                    eventsByMonthThenArea[monthName][areaName].forEach(event => {
                        sidebarHTML += `<a class="menu-item" data-eventid="${event.id}">${event.name}</a>`;
                    });
                    sidebarHTML += `</div>`;
                }
                sidebarHTML += `</div>`;
                sidebarHTML += `</div>`;
            }
            sidebarElement.innerHTML = sidebarHTML;

            // Add event listeners for month toggles
            document.querySelectorAll('.menu-month-title').forEach(title => {
                title.addEventListener('click', function() {
                    const targetId = this.dataset.target;
                    const content = document.getElementById(targetId);
                    const icon = this.querySelector('.toggle-icon');
                    if (content) {
                        content.classList.toggle('expanded');
                        this.classList.toggle('expanded'); 
                        if (content.classList.contains('expanded')) {
                            if(icon) icon.textContent = '-';
                        } else {
                            if(icon) icon.textContent = '+';
                        }
                    }
                });
            });

            // Add event listeners for event items
            document.querySelectorAll('#sidebar .menu-item').forEach(item => {
                item.addEventListener('click', function() {
                    const eventId = this.dataset.eventid;
                    loadEventContent(eventId);
                    // Highlight active item
                    document.querySelectorAll('#sidebar .menu-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        }
        
        function generateCalendarHTML(calendarDates) {
            if (!calendarDates) return '<p>開催日程の詳細は公式情報をご確認ください。</p>';
            
            const { month, year, startDay, endDay, highlightDays = [] } = calendarDates;
            const currentMonth = month -1; // JavaScript months are 0-indexed
            const daysInMonth = new Date(year, currentMonth + 1, 0).getDate(); 
            const firstDayOfMonth = new Date(year, currentMonth, 1).getDay(); // 0 for Sunday, 1 for Monday...

            let html = `<div class="calendar">
                                <div class="calendar-header">日</div><div class="calendar-header">月</div><div class="calendar-header">火</div>
                                <div class="calendar-header">水</div><div class="calendar-header">木</div><div class="calendar-header">金</div>
                                <div class="calendar-header">土</div>`;

            // Add empty cells for days before the first of the month
            for (let i = 0; i < firstDayOfMonth; i++) {
                html += `<div class="calendar-day empty"></div>`;
            }

            // Add days of the month
            for (let day = 1; day <= daysInMonth; day++) {
                let classes = "calendar-day";
                // Highlight if the day is within the event's start/end range OR in the explicit highlightDays array
                if ((day >= startDay && day <= endDay) || highlightDays.includes(day)) {
                    classes += " event-date";
                }
                html += `<div class="${classes}">${day}</div>`;
            }
            html += `</div>`;
            return html;
        }
        
        function destroyCharts() {
            activeChartInstances.forEach(chart => {
                if (chart && typeof chart.destroy === 'function') {
                    chart.destroy();
                }
            });
            activeChartInstances = [];
        }

        function loadEventContent(eventId) {
            destroyCharts(); // Destroy existing charts before loading new content
            const event = eventsData.find(e => e.id === eventId);
            if (!event) {
                eventDetailContentElement.innerHTML = '<p>イベント情報が見つかりません。</p>';
                return;
            }

            // Extract the main venue name for the store locator section, removing parenthetical details
            const mainVenueForLocator = event.location.split('（')[0].trim();

            let contentHTML = `
                <section class="content-section">
                    <h2 class="event-title-main"><span class="icon-style">🎉</span>${event.name}</h2>
                    <div class="space-y-8">
                        <p>${event.name}の基本情報を確認し、営業戦略の土台を固めましょう。会場の位置や昨年の動員数は、必要な人員数や注力すべき商品を予測する上で重要な手がかりとなります。</p>
                        <div>
                            <h3 class="subsection-title text-xl font-semibold mb-2 text-zinc-700">イベントイメージ</h3>
                            <img src="${event.imagePlaceholder}" alt="${event.name} イメージ" class="mt-4 rounded-lg shadow-md w-full max-w-lg mx-auto" onerror="this.onerror=null;this.src='https://placehold.co/600x350/CCCCCC/FFFFFF?text=画像読込エラー&font=noto-sans-jp';">
                            <p class="text-xs text-center mt-2 text-gray-500">※画像はイメージです。</p>
                        </div>

                        <div>
                            <h3 class="subsection-title text-xl font-semibold mb-3 text-zinc-700"><span class="icon-style">🗓️</span>開催期間 (${event.calendarDates.year || currentYear}年)</h3>
                            <p class="mb-1">${event.dates}</p>
                            ${generateCalendarHTML(event.calendarDates)}
                            <p class="text-xs text-center mt-2 text-gray-500">上記は${event.calendarDates.year || currentYear}年${event.calendarDates.month}月のカレンダー表示例です。</p>
                        </div>

                        <div>
                            <h3 class="subsection-title text-xl font-semibold mb-2 text-zinc-700"><span class="icon-style">📍</span>主要会場</h3>
                            <p>${event.location}</p>
                            <div class="mt-4 rounded-lg overflow-hidden shadow-md">
                                <iframe src="${event.mapEmbedUrl}" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            </div>
                        </div>
                        <div>
                            <h3 class="subsection-title text-xl font-semibold mb-2 text-zinc-700"><span class="icon-style">👥</span>想定来場者数（例年）</h3>
                            <p class="text-2xl font-bold text-teal-600">${event.attendance}</p>
                        </div>
                    </div>
                </section>

                <section class="content-section">
                    <h2 class="event-title-main"><span class="icon-style">💡</span>人員確保と時給のポイント</h2>
                    <div class="space-y-6">
                        <p>イベント期間中の爆発的な顧客増に対応するためには、戦略的な人員配置が不可欠です。タイミーを活用し、必要な時に必要なスキルを持つ人材を確保しましょう。</p>
                        
                        <div class="minimum-wage-info">
                            <p><span class="icon-style">ℹ️</span><strong>${event.minWage.area}の最低賃金</strong>（${event.minWage.effectiveDate}発効）： <strong>時給${event.minWage.value}円</strong></p>
                            <p class="mt-1 text-sm text-gray-600">提示されている時給目安は、この最低賃金を考慮した上で参考にしてください。</p>
                        </div>

                        <p>以下は、${event.prefecture}中心部における各業種の一般的な時給情報です。募集時の参考にしてください。</p>
                        
                        <div>
                            <h3 class="subsection-title"><span class="icon-style">🏪</span>コンビニエンスストア 時給情報 (目安)</h3>
                            <div class="chart-container">
                                <canvas id="${event.id}_convenienceStoreWageChart"></canvas>
                            </div>
                            <p class="text-xs text-center mt-2 text-gray-500">※コンビニの時給はあくまで目安です。</p>
                        </div>

                        <div>
                            <h3 class="subsection-title"><span class="icon-style">🍽️</span>飲食店 時給情報 (目安)</h3>
                            <div class="chart-container">
                                <canvas id="${event.id}_restaurantWageChart"></canvas>
                            </div>
                            <p class="text-xs text-center mt-2 text-gray-500">※飲食店の時給はあくまで目安です。</p>
                        </div>

                        <div>
                            <h3 class="subsection-title"><span class="icon-style">🛍️</span>リテール (小売業) 時給情報 (目安)</h3>
                            <div class="chart-container">
                                <canvas id="${event.id}_retailWageChart"></canvas>
                            </div>
                            <p class="text-xs text-center mt-2 text-gray-500">※リテールの時給はあくまで目安です。</p>
                        </div>

                        <div>
                            <h3 class="subsection-title"><span class="icon-style">🗣️</span>簡易セールストーク例</h3>
                            <ul class="list-disc list-inside space-y-2 pl-1">
                                <li>「${event.name}の期間中、特に週末は大変な混雑が予想されます。レジ応援や迅速な品出しのために、タイミーで短期スタッフを増員しませんか？」</li>
                                <li>「イベント当日は、飲料や軽食の需要が急増します。品切れによる販売機会の損失を防ぐため、タイミーで品出し専門スタッフを確保し、万全の体制を整えましょう。」</li>
                                <li>「祭り期間中のピークタイムに合わせて、数時間単位で働けるスタッフをタイミーで募集可能です。人件費を最適化しつつ、売上アップを目指せます。」</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section class="content-section">
                    <h2 class="event-title-main"><span class="icon-style">🗺️</span>店舗位置確認ツール</h2>
                    <div class="space-y-4">
                        <p>営業対象の店舗名または住所を入力し、${event.name}主要会場（${mainVenueForLocator}）からの位置関係を確認しましょう。</p>
                        <div class="space-y-3">
                            <label for="storeAddress_${event.id}" class="block text-sm font-medium text-zinc-700">店舗名または住所を入力してください:</label>
                            <input type="text" id="storeAddress_${event.id}" name="storeAddress_${event.id}" class="input-field" placeholder="例: ローソン ${event.prefecture.split('（')[0]}〇〇店">
                        </div>
                        <button id="showProximityBtn_${event.id}" class="accent-btn w-full md:w-auto">
                            <span class="icon-style">🔍</span>会場からの位置関係を表示
                        </button>
                        <div id="proximityResult_${event.id}" class="mt-6 space-y-3" style="display: none;">
                            <h3 class="text-lg font-semibold text-zinc-700">検索結果:</h3>
                            <div id="mapEmbedContainer_${event.id}" class="mt-4 rounded-lg overflow-hidden shadow-md">
                                <iframe id="directionsMap_${event.id}" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                            </div>
                            <p class="text-xs text-zinc-500">地図内に店舗から会場までの経路が表示されます。</p>
                        </div>
                         <div id="errorMessage_${event.id}" class="mt-4 text-red-600" style="display: none;"></div>
                    </div>
                </section>
                <footer class="footer-main">
                    <p class="text-zinc-600">© ${currentYear} Taimē Inc. All rights reserved.</p>
                    <p class="text-xs text-zinc-500 mt-1">このツールは営業活動の参考情報を提供するものです。</p>
                </footer>
            `;
            eventDetailContentElement.innerHTML = contentHTML;
            
            // Initialize charts if wage data exists
            if (event.wages) {
                let chartInstance;
                if(event.wages.convenience) {
                    chartInstance = createHourlyWageChart(`${event.id}_convenienceStoreWageChart`, '平均時給 (目安)', event.wages.convenience.labels, event.wages.convenience.data, event.wages.convenience.ranges);
                    if (chartInstance) activeChartInstances.push(chartInstance);
                }
                if(event.wages.restaurant) {
                    chartInstance = createHourlyWageChart(`${event.id}_restaurantWageChart`, '平均時給 (目安)', event.wages.restaurant.labels, event.wages.restaurant.data, event.wages.restaurant.ranges);
                    if (chartInstance) activeChartInstances.push(chartInstance);
                }
                if(event.wages.retail) {
                    chartInstance = createHourlyWageChart(`${event.id}_retailWageChart`, '平均時給 (目安)', event.wages.retail.labels, event.wages.retail.data, event.wages.retail.ranges);
                    if (chartInstance) activeChartInstances.push(chartInstance);
                }
            }
            
            // Setup store locator functionality
            setupStoreLocator(event.id, event.location); // Pass the full event location for the destination
            // Scroll to top of content area
            document.getElementById('main-content-area').scrollTop = 0;
        }

        function createHourlyWageChart(canvasId, chartLabel, labels, data, tooltipRanges) {
            const canvasElement = document.getElementById(canvasId);
            if (!canvasElement) {
                console.warn(`Canvas element with ID ${canvasId} not found.`);
                return null;
            }
            const ctx = canvasElement.getContext('2d');
            if (!ctx) return null; 
            return new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: chartLabel,
                        data: data,
                        backgroundColor: 'rgba(20, 184, 166, 0.7)', 
                        borderColor: 'rgba(20, 184, 166, 1)',
                        borderWidth: 1,
                        borderRadius: 4,
                        barPercentage: 0.6,
                        categoryPercentage: 0.7
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            min: 800,
                            title: { display: true, text: '時給 (円)', font: { size: 12, family: 'Noto Sans JP' }},
                            grid: { display: true, color: 'rgba(0, 0, 0, 0.05)' },
                            ticks: { font: { family: 'Noto Sans JP' } }
                        },
                        y: {
                            grid: { display: false },
                            ticks: { font: { family: 'Noto Sans JP', size: 13 } }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(0, 0, 0, 0.8)',
                            titleFont: { size: 14, family: 'Noto Sans JP' },
                            bodyFont: { size: 12, family: 'Noto Sans JP' },
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (label) { label += ': '; }
                                    if (context.parsed.x !== null) {
                                        label += new Intl.NumberFormat('ja-JP', { style: 'currency', currency: 'JPY', minimumFractionDigits: 0 }).format(context.parsed.x);
                                    }
                                    const categoryName = context.label;
                                    if (tooltipRanges && tooltipRanges[categoryName]) {
                                        label += ` (${tooltipRanges[categoryName]})`;
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    animation: { duration: 800, easing: 'easeInOutQuart' }
                }
            });
        }
        
        function setupStoreLocator(eventId, eventVenueAddress) {
            const storeAddressInput = document.getElementById(`storeAddress_${eventId}`);
            const showProximityBtn = document.getElementById(`showProximityBtn_${eventId}`);
            const proximityResultDiv = document.getElementById(`proximityResult_${eventId}`);
            const directionsMap = document.getElementById(`directionsMap_${eventId}`);
            const errorMessageDiv = document.getElementById(`errorMessage_${eventId}`);

            if (!storeAddressInput || !showProximityBtn || !proximityResultDiv || !directionsMap || !errorMessageDiv) {
                console.warn(`Store locator elements for event ${eventId} not found.`);
                return;
            }

            showProximityBtn.addEventListener('click', function() {
                const storeAddress = storeAddressInput.value.trim();
                errorMessageDiv.style.display = 'none';
                errorMessageDiv.textContent = '';

                if (!storeAddress) {
                    errorMessageDiv.textContent = '店舗名または住所を入力してください。';
                    errorMessageDiv.style.display = 'block';
                    proximityResultDiv.style.display = 'none';
                    return;
                }

                const encodedStoreAddress = encodeURIComponent(storeAddress);
                // Use the full event location as the destination for directions
                const encodedEventVenueAddress = encodeURIComponent(eventVenueAddress.split('（')[0].trim()); 

                // A common format for Google Maps directions embed
                const directionsEmbedUrl = `https://www.google.com/maps?output=embed&saddr=${encodedStoreAddress}&daddr=${encodedEventVenueAddress}&hl=ja`;
                
                directionsMap.src = directionsEmbedUrl; 
                proximityResultDiv.style.display = 'block';
            });
        }

        // Initial setup
        populateSidebar();
        // Load the first event by default if data exists
        if (eventsData.length > 0) {
            loadEventContent(eventsData[0].id); 
            const firstMenuItem = document.querySelector('#sidebar .menu-item');
            if (firstMenuItem) {
                firstMenuItem.classList.add('active');
                // Optionally expand the month of the first event
                const firstEvent = eventsData.find(e => e.id === eventsData[0].id);
                if (firstEvent) {
                    const monthNames = ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"];
                    const monthName = monthNames[firstEvent.month - 1];
                    const monthToggle = document.querySelector(`.menu-month-title[data-target="month-content-${monthName.replace(/[^a-zA-Z0-9]/g, '')}"]`);
                    const monthContent = document.getElementById(`month-content-${monthName.replace(/[^a-zA-Z0-9]/g, '')}`);
                    const icon = monthToggle ? monthToggle.querySelector('.toggle-icon') : null;
                    if (monthToggle && monthContent && !monthContent.classList.contains('expanded')) {
                        monthContent.classList.add('expanded');
                        monthToggle.classList.add('expanded');
                        if(icon) icon.textContent = '-';
                    }
                }
            }
        }

    </script>
</body>
</html>
